"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1375],{1375:(C,_,r)=>{r.r(_),r.d(_,{RegistroPage:()=>m});var g=r(6814),c=r(95),a=r(3582),d=r(6626),u=r(2745),o=r(6689),p=r(2333),M=r(9022),h=r(3044);function P(s,l){if(1&s){const e=o.EpF();o.TgZ(0,"div",5)(1,"ion-item")(2,"ion-label",6),o._uU(3,"Nombre"),o.qZA(),o.TgZ(4,"ion-input",7),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.usuario.nombre=n)}),o.qZA(),o._UZ(5,"ion-icon",8),o.qZA(),o.TgZ(6,"ion-item")(7,"ion-label",6),o._uU(8,"Apellidos"),o.qZA(),o.TgZ(9,"ion-input",7),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.usuario.apellido=n)}),o.qZA(),o._UZ(10,"ion-icon",9),o.qZA(),o.TgZ(11,"ion-item")(12,"ion-label",6),o._uU(13,"Correo"),o.qZA(),o.TgZ(14,"ion-input",7),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.usuario.correo=n)}),o.qZA(),o._UZ(15,"ion-icon",10),o.qZA(),o.TgZ(16,"ion-item")(17,"ion-label",6),o._uU(18,"Pregunta secreta"),o.qZA(),o.TgZ(19,"ion-input",7),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.usuario.preguntaSecreta=n)}),o.qZA(),o._UZ(20,"ion-icon",11),o.qZA(),o.TgZ(21,"ion-item")(22,"ion-label",6),o._uU(23,"Respuesta secreta"),o.qZA(),o.TgZ(24,"ion-input",7),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.usuario.respuestaSecreta=n)}),o.qZA(),o._UZ(25,"ion-icon",11),o.qZA(),o.TgZ(26,"ion-item")(27,"ion-label",6),o._uU(28,"Contrase\xf1a"),o.qZA(),o.TgZ(29,"ion-input",12),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.usuario.password=n)}),o.qZA(),o._UZ(30,"ion-icon",13),o.qZA(),o.TgZ(31,"ion-item")(32,"ion-label",6),o._uU(33,"Repetir contrase\xf1a"),o.qZA(),o.TgZ(34,"ion-input",12),o.NdJ("ngModelChange",function(n){o.CHM(e);const i=o.oxw();return o.KtG(i.repeticionPassword=n)}),o.qZA(),o._UZ(35,"ion-icon",13),o.qZA(),o.TgZ(36,"div",14)(37,"ion-button",15),o.NdJ("click",function(){o.CHM(e);const n=o.oxw();return o.KtG(n.actualizarPerfil())}),o._uU(38,"Registrarse"),o.qZA()(),o.TgZ(39,"div",14)(40,"ion-button",15),o.NdJ("click",function(){o.CHM(e);const n=o.oxw();return o.KtG(n.volver())}),o._uU(41,"Volver"),o.qZA()()()}if(2&s){const e=o.oxw();o.xp6(4),o.Q6J("ngModel",e.usuario.nombre),o.xp6(5),o.Q6J("ngModel",e.usuario.apellido),o.xp6(5),o.Q6J("ngModel",e.usuario.correo),o.xp6(5),o.Q6J("ngModel",e.usuario.preguntaSecreta),o.xp6(5),o.Q6J("ngModel",e.usuario.respuestaSecreta),o.xp6(5),o.Q6J("ngModel",e.usuario.password),o.xp6(5),o.Q6J("ngModel",e.repeticionPassword)}}let m=(()=>{var s;class l{constructor(t,n,i){this.authService=t,this.bd=n,this.router=i,this.usuario=new d.b,this.repeticionPassword="",this.listaUsuarios=[]}ngOnInit(){this.bd.listaUsuarios.subscribe(t=>{this.listaUsuarios=t})}mostrarMensaje(t,n){return""!==n.trim()||((0,u.HG)(`Debe ingresar un valor para el campo "${t}".`),!1)}validarUsuarios(){return!this.listaUsuarios.find(n=>n.correo===this.usuario.correo)||((0,u.HG)(`El usuario "${this.usuario.correo}" ya existe.`),!1)}actualizarPerfil(){this.usuario.password===this.repeticionPassword?(this.validarUsuarios()&&""!==this.usuario.correo&&""!==this.usuario.password&&""!==this.usuario.nombre&&""!==this.usuario.apellido&&""!==this.usuario.rut&&""!==this.usuario.telefono&&""!==this.usuario.direccion&&""!==this.usuario.comuna&&""!==this.usuario.region&&""!==this.usuario.pais&&""!==this.usuario.fechaNacimiento&&""!==this.usuario.sexo&&""!==this.usuario.tipoUsuario&&""!==this.usuario.estado&&""!==this.usuario.foto&&(this.bd.guardarUsuario(this.usuario),(0,u.HG)("Sus usuario fue creado"),this.actualizarYRedirigir()),(0,u.HG)("Debe ingresar un valor para todos los campos.")):(0,u.HG)("Las contrase\xf1as escritas deben ser iguales.")}actualizarYRedirigir(){const t=this.router.serializeUrl(this.router.createUrlTree(["inicio"]));window.location.href=t}volver(){this.router.navigate(["inicio"])}}return(s=l).\u0275fac=function(t){return new(t||s)(o.Y36(p.e),o.Y36(M.T),o.Y36(h.F0))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-registro"]],standalone:!0,features:[o.jDz],decls:7,vars:1,consts:[["src","assets/icon/LogoDuoc.png",1,"logo"],[1,"background-container"],[1,"login-card"],[1,"titleduoc","ion-text-center"],["class","profile-container marco",4,"ngIf"],[1,"profile-container","marco"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["name","person-outline","slot","start"],["name","people-outline","slot","start"],["name","mail-outline","slot","start"],["name","help-circle-outline","slot","start"],["type","password",3,"ngModel","ngModelChange"],["name","lock-closed-outline","slot","start"],[1,"update-button-container"],["color","dark",3,"click"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-content"),o._UZ(1,"img",0),o.TgZ(2,"div",1)(3,"ion-card",2)(4,"ion-title",3),o._uU(5," Sistema de Asistencia DuocUC "),o.qZA()()(),o.YNc(6,P,42,7,"div",4),o.qZA()),2&t&&(o.xp6(6),o.Q6J("ngIf",n.usuario))},dependencies:[a.Pc,a.YG,a.PM,a.W2,a.gu,a.pK,a.Ie,a.Q$,a.wd,a.j9,g.ez,g.O5,c.u5,c.JJ,c.On],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: url(/assets/icon/ddduoc.jpg) 0 0/100% 100% no-repeat;background-size:cover}ion-item[_ngcontent-%COMP%]{--padding-bottom: 10px}.espacio-horizontal[_ngcontent-%COMP%]{margin-right:100px}.logo[_ngcontent-%COMP%]{width:500px;margin:0 auto;display:block}.custom-link[_ngcontent-%COMP%]:hover{text-decoration:underline;justify-content:center;align-items:center;cursor:pointer}.boton-ingresar[_ngcontent-%COMP%], .i-toolbar[_ngcontent-%COMP%]{--background: #000000;color:#fff}ion-title[_ngcontent-%COMP%]{color:#fff;font-size:20px}.background-container[_ngcontent-%COMP%]   .ion-padding-vertical[_ngcontent-%COMP%]{background-color:#fffc;border-radius:10px;font-size:18px}.login-card[_ngcontent-%COMP%]{background-color:#000c;border-radius:10px}.titleduoc[_ngcontent-%COMP%]{justify-content:center;align-items:center;height:4vh;font-size:18px}.ion-text-center[_ngcontent-%COMP%], .link-registro[_ngcontent-%COMP%]{text-align:center}ion-button[_ngcontent-%COMP%]{background-color:#000}',".profile-container[_ngcontent-%COMP%] {\n    padding: 1rem;\n  }\n\n  .update-button-container[_ngcontent-%COMP%] {\n    margin-top: 2rem;\n    text-align: center;\n  }"]}),l})()}}]);